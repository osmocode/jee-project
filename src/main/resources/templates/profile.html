<!--

<form method="post" th:action="@{/profile/{username}/score (username=${userDto.username()})}">
    <button type="submit" name="note" value="1">1*</button>
    <button type="submit" name="note" value="2">2*</button>
    <button type="submit" name="note" value="3">3*</button>
    <button type="submit" name="note" value="4">4*</button>
    <button type="submit" name="note" value="5">5*</button>
</form>

<form method="post" th:action="@{/profile/{username}/update-score (username=${userDto.username()})}">
    <button type="submit" name="note" value="1">1*</button>
    <button type="submit" name="note" value="2">2*</button>
    <button type="submit" name="note" value="3">3*</button>
    <button type="submit" name="note" value="4">4*</button>
    <button type="submit" name="note" value="5">5*</button>
</form>

<form method="post" th:action="@{/profile/{username}/delete-score (username=${userDto.username()})}">
    <button type="submit">Delete note</button>
</form>

-->

<!DOCTYPE html>
<html lang="en"
      class="h-full"
      xmlns:th="http://www.thymeleaf.org">
    <head th:replace="~{fragments/head :: head}">
        <style>
            /* DÃ©finir une classe CSS */
            .ma-classe {
                color: red;
                font-size: 16px;
            }
        </style>

    </head>
    <body class="h-full">
        <aside th:replace="~{fragments/sidebar :: sidebar('Users')}"></aside>
        <div class="flex flex-1 flex-col lg:pl-64">
            <nav th:replace="~{fragments/nav :: nav('')}"></nav>
            <main class="flex-1" th:object="${userDto}">
                <div class="py-6 px-6">
                    <div class="pb-6 rounded-b-xl shadow bg-gray-100">
                        <div>
                            <!--<img class="h-32 w-full object-cover lg:h-48 rounded-t-xl" src="https://images.unsplash.com/photo-1476445704028-a36e0c798192?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=3540&q=80" alt="Cover">-->
                            <img class="h-32 w-full object-cover lg:h-48 rounded-t-xl" src="https://images.unsplash.com/photo-1626428091984-48f9ffbf927c?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=3600&q=80" alt="Cover">

                        </div>
                        <div class="mx-auto max-w-5xl px-4 sm:px-6 lg:px-8">
                            <div class="-mt-12 sm:-mt-16 sm:flex sm:items-end sm:space-x-5">
                                <div class="flex py-4">
                                    <svg class="h-24 w-24 rounded-full ring-4 ring-white sm:h-32 sm:w-32 bg-gray-200" th:data-jdenticon-value="${userDto.username()}"></svg>
                                </div>
                                <div class="mt-6 sm:flex sm:min-w-0 sm:flex-1 sm:items-center sm:justify-end sm:space-x-6 sm:pb-1">
                                    <div class="mt-6 min-w-0 flex-1 sm:hidden md:block">
                                        <h1 class="truncate text-2xl font-bold text-gray-900" th:text="${userDto.username()}">Username</h1>
                                        <div class="flex items-center py-2">
                                            <!-- Active: "text-yellow-400", Default: "text-gray-300" -->
                                            <svg  th:classappend="${(userDto.grade() >=  1)} ? 'text-yellow-400' : 'text-gray-300'"
                                                    class="h-5 w-5 flex-shrink-0 " viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                                <path fill-rule="evenodd" d="M10.868 2.884c-.321-.772-1.415-.772-1.736 0l-1.83 4.401-4.753.381c-.833.067-1.171 1.107-.536 1.651l3.62 3.102-1.106 4.637c-.194.813.691 1.456 1.405 1.02L10 15.591l4.069 2.485c.713.436 1.598-.207 1.404-1.02l-1.106-4.637 3.62-3.102c.635-.544.297-1.584-.536-1.65l-4.752-.382-1.831-4.401z" clip-rule="evenodd" />
                                            </svg>
                                            <svg th:classappend="${(userDto.grade() >=  2)} ? 'text-yellow-400' : 'text-gray-300'"
                                                    class="h-5 w-5 flex-shrink-0 " viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                                <path fill-rule="evenodd" d="M10.868 2.884c-.321-.772-1.415-.772-1.736 0l-1.83 4.401-4.753.381c-.833.067-1.171 1.107-.536 1.651l3.62 3.102-1.106 4.637c-.194.813.691 1.456 1.405 1.02L10 15.591l4.069 2.485c.713.436 1.598-.207 1.404-1.02l-1.106-4.637 3.62-3.102c.635-.544.297-1.584-.536-1.65l-4.752-.382-1.831-4.401z" clip-rule="evenodd" />
                                            </svg>
                                            <svg th:classappend="${(userDto.grade() >=  3)} ? 'text-yellow-400' : 'text-gray-300'"
                                                    class="h-5 w-5 flex-shrink-0 " viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                                <path fill-rule="evenodd" d="M10.868 2.884c-.321-.772-1.415-.772-1.736 0l-1.83 4.401-4.753.381c-.833.067-1.171 1.107-.536 1.651l3.62 3.102-1.106 4.637c-.194.813.691 1.456 1.405 1.02L10 15.591l4.069 2.485c.713.436 1.598-.207 1.404-1.02l-1.106-4.637 3.62-3.102c.635-.544.297-1.584-.536-1.65l-4.752-.382-1.831-4.401z" clip-rule="evenodd" />
                                            </svg>
                                            <svg th:classappend="${(userDto.grade() >=  4)} ? 'text-yellow-400' : 'text-gray-300'"
                                                    class="h-5 w-5 flex-shrink-0 " viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                                <path fill-rule="evenodd" d="M10.868 2.884c-.321-.772-1.415-.772-1.736 0l-1.83 4.401-4.753.381c-.833.067-1.171 1.107-.536 1.651l3.62 3.102-1.106 4.637c-.194.813.691 1.456 1.405 1.02L10 15.591l4.069 2.485c.713.436 1.598-.207 1.404-1.02l-1.106-4.637 3.62-3.102c.635-.544.297-1.584-.536-1.65l-4.752-.382-1.831-4.401z" clip-rule="evenodd" />
                                            </svg>
                                            <svg th:classappend="${(userDto.grade() >=  4.7)} ? 'text-yellow-400' : 'text-gray-300'"
                                                    class="h-5 w-5 flex-shrink-0 " viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                                <path fill-rule="evenodd" d="M10.868 2.884c-.321-.772-1.415-.772-1.736 0l-1.83 4.401-4.753.381c-.833.067-1.171 1.107-.536 1.651l3.62 3.102-1.106 4.637c-.194.813.691 1.456 1.405 1.02L10 15.591l4.069 2.485c.713.436 1.598-.207 1.404-1.02l-1.106-4.637 3.62-3.102c.635-.544.297-1.584-.536-1.65l-4.752-.382-1.831-4.401z" clip-rule="evenodd" />
                                            </svg>

                                        </div>

                                    </div>
                                    <!-- DELETE NOTE-->
                                    <form method="post" th:action="@{/profile/{username}/delete-score (username=${userDto.username()})}">
                                        <div class="justify-stretch mt-6 flex flex-col space-y-3 sm:flex-row sm:space-y-0 sm:space-x-4">
                                            <button name="note" value="1" type="submit" class="inline-flex justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50">
                                                <span class="sr-only">Enter</span>
                                                <svg class="h-5 w-5 flex-shrink-0 text-gray-300" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                                    <path fill-rule="evenodd" d="M10.868 2.884c-.321-.772-1.415-.772-1.736 0l-1.83 4.401-4.753.381c-.833.067-1.171 1.107-.536 1.651l3.62 3.102-1.106 4.637c-.194.813.691 1.456 1.405 1.02L10 15.591l4.069 2.485c.713.436 1.598-.207 1.404-1.02l-1.106-4.637 3.62-3.102c.635-.544.297-1.584-.536-1.65l-4.752-.382-1.831-4.401z" clip-rule="evenodd" />
                                                </svg>
                                            </button>
                                        </div>
                                    </form>
                                    <form method="post" th:action="@{/profile/{username}/note (username=${userDto.username()})}">
                                        <div class="justify-stretch mt-6 flex flex-col space-y-3 sm:flex-row sm:space-y-0 sm:space-x-4">

                                            <!--SELECTED LISTE-->
                                            <label for="note" class="sr-only">Note</label>
                                            <select id="note" name="note" class="max-w-full rounded-md border border-gray-300 py-1.5 text-left text-base font-medium leading-5 text-gray-700 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500 sm:text-sm">

                                                <option th:selected="${userDto.grade() >= 1 and userDto.grade() < 2}" value="1">1</option>
                                                <option th:selected="${userDto.grade() >= 2 and userDto.grade() < 3}" value="2">2</option>
                                                <option th:selected="${userDto.grade() >= 3 and userDto.grade() < 4}" value="3">3</option>
                                                <option th:selected="${userDto.grade() >= 4 and userDto.grade() < 5}" value="4">4</option>
                                                <option th:selected="${userDto.grade() >= 5}" value="5">5</option>
                                            </select>

                                            <div class="justify-stretch mt-6 flex flex-col space-y-3 sm:flex-row sm:space-y-0 sm:space-x-4">
                                                <button name="note" value="1" type="submit" class="inline-flex justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50">
                                                    <span class="sr-only">Enter</span>
                                                    <svg class="h-5 w-5 flex-shrink-0 text-yellow-400 " viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                                        <path fill-rule="evenodd" d="M10.868 2.884c-.321-.772-1.415-.772-1.736 0l-1.83 4.401-4.753.381c-.833.067-1.171 1.107-.536 1.651l3.62 3.102-1.106 4.637c-.194.813.691 1.456 1.405 1.02L10 15.591l4.069 2.485c.713.436 1.598-.207 1.404-1.02l-1.106-4.637 3.62-3.102c.635-.544.297-1.584-.536-1.65l-4.752-.382-1.831-4.401z" clip-rule="evenodd" />
                                                    </svg>
                                                </button>
                                            </div>
                                        </div>
                                    </form>


                                    <form method="post" th:action="@{/profile/{username}/unfollow (username=${userDto.username()})}">
                                        <div class="justify-stretch mt-6 flex flex-col space-y-3 sm:flex-row sm:space-y-0 sm:space-x-4">
                                            <button type="submit" class="inline-flex justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50">
                                                <svg class="-ml-0.5 mr-1.5 h-5 w-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                                                    <path stroke-linecap="round" stroke-linejoin="round" d="M22 10.5h-6m-2.25-4.125a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zM4 19.235v-.11a6.375 6.375 0 0112.75 0v.109A12.318 12.318 0 0110.374 21c-2.331 0-4.512-.645-6.374-1.766z" />
                                                </svg>
                                                <span>Unfollow</span>
                                            </button>
                                        </div>
                                    </form>

                                    <form method="post" class="flex-col" th:action="@{/profile/{username}/follow (username=${userDto.username()})}">
                                        <div class="justify-stretch mt-6 flex flex-col space-y-3 sm:flex-row sm:space-y-0 sm:space-x-4">
                                            <button type="submit" class="inline-flex justify-center rounded-md px-3 py-2 text-sm font-semibold text-white shadow-sm bg-sky-600 hover:bg-sky-500">
                                                <svg class="-ml-0.5 mr-1.5 h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                                                    <path stroke-linecap="round" stroke-linejoin="round" d="M19 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zM4 19.235v-.11a6.375 6.375 0 0112.75 0v.109A12.318 12.318 0 0110.374 21c-2.331 0-4.512-.645-6.374-1.766z" />
                                                </svg>
                                                <span>Follow</span>
                                            </button>
                                        </div>
                                    </form>

                                    <div class="justify-stretch mt-6 flex flex-col space-y-3 sm:flex-row sm:space-y-0 sm:space-x-4 hidden">
                                        <!-- UNFOLLOW BUTTON -->
                                        <form method="post" class="hidden" th:action="@{/profile/{username}/unfollow (username=${userDto.username()})}">
                                            <button type="submit" class="inline-flex justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50">
                                                <svg class="-ml-0.5 mr-1.5 h-5 w-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                                                    <path stroke-linecap="round" stroke-linejoin="round" d="M22 10.5h-6m-2.25-4.125a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zM4 19.235v-.11a6.375 6.375 0 0112.75 0v.109A12.318 12.318 0 0110.374 21c-2.331 0-4.512-.645-6.374-1.766z" />
                                                </svg>
                                                <span>Unfollow</span>
                                            </button>
                                        </form>
                                        <!-- FOLLOW BUTTON -->
                                        <form method="post" class="flex-col" th:action="@{/profile/{username}/follow (username=${userDto.username()})}">
                                            <button type="submit" class="inline-flex rounded-md bg-sky-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-sky-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-sky-600">
                                                <svg class="-ml-0.5 mr-1.5 h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                                                    <path stroke-linecap="round" stroke-linejoin="round" d="M19 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zM4 19.235v-.11a6.375 6.375 0 0112.75 0v.109A12.318 12.318 0 0110.374 21c-2.331 0-4.512-.645-6.374-1.766z" />
                                                </svg>
                                                <span>Follow</span>
                                            </button>
                                        </form>
                                    </div>
                                </div>
                            </div>
                            <div class="mt-6 hidden min-w-0 flex-1 sm:block md:hidden">
                                <h1 class="truncate text-2xl font-bold text-gray-900" th:text="${userDto.username()}">Username</h1>
                            </div>
                            <div class="flex flex-col mt-4 sm:flex-row sm:flex-wrap sm:space-x-6">
                                <div class="mt-2 flex items-center text-sm text-gray-500">
                                    <svg class="mr-1.5 h-5 w-5 flex-shrink-0 text-gray-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                        <path fill-rule="evenodd" d="M9 4.5a.75.75 0 01.721.544l.813 2.846a3.75 3.75 0 002.576 2.576l2.846.813a.75.75 0 010 1.442l-2.846.813a3.75 3.75 0 00-2.576 2.576l-.813 2.846a.75.75 0 01-1.442 0l-.813-2.846a3.75 3.75 0 00-2.576-2.576l-2.846-.813a.75.75 0 010-1.442l2.846-.813A3.75 3.75 0 007.466 7.89l.813-2.846A.75.75 0 019 4.5zM18 1.5a.75.75 0 01.728.568l.258 1.036c.236.94.97 1.674 1.91 1.91l1.036.258a.75.75 0 010 1.456l-1.036.258c-.94.236-1.674.97-1.91 1.91l-.258 1.036a.75.75 0 01-1.456 0l-.258-1.036a2.625 2.625 0 00-1.91-1.91l-1.036-.258a.75.75 0 010-1.456l1.036-.258a2.625 2.625 0 001.91-1.91l.258-1.036A.75.75 0 0118 1.5zM16.5 15a.75.75 0 01.712.513l.394 1.183c.15.447.5.799.948.948l1.183.395a.75.75 0 010 1.422l-1.183.395c-.447.15-.799.5-.948.948l-.395 1.183a.75.75 0 01-1.422 0l-.395-1.183a1.5 1.5 0 00-.948-.948l-1.183-.395a.75.75 0 010-1.422l1.183-.395c.447-.15.799-.5.948-.948l.395-1.183A.75.75 0 0116.5 15z" clip-rule="evenodd" />
                                    </svg>
                                    <span th:text="${userDto.grade()}"></span>
                                </div>
                                <div class="mt-2 flex items-center text-sm text-gray-500">
                                    <svg class="mr-1.5 h-5 w-5 flex-shrink-0 text-gray-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                        <path d="M21.731 2.269a2.625 2.625 0 00-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 000-3.712zM19.513 8.199l-3.712-3.712-8.4 8.4a5.25 5.25 0 00-1.32 2.214l-.8 2.685a.75.75 0 00.933.933l2.685-.8a5.25 5.25 0 002.214-1.32l8.4-8.4z" />
                                        <path d="M5.25 5.25a3 3 0 00-3 3v10.5a3 3 0 003 3h10.5a3 3 0 003-3V13.5a.75.75 0 00-1.5 0v5.25a1.5 1.5 0 01-1.5 1.5H5.25a1.5 1.5 0 01-1.5-1.5V8.25a1.5 1.5 0 011.5-1.5h5.25a.75.75 0 000-1.5H5.25z" />
                                    </svg>
                                    <span th:text="'Reviews: ' + ${userDto.reviews()}"></span>
                                </div>
                                <div class="mt-2 flex items-center text-sm text-gray-500">
                                    <svg class="mr-1.5 h-5 w-5 flex-shrink-0 text-gray-500" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                        <path fill-rule="evenodd" d="M5.75 2a.75.75 0 01.75.75V4h7V2.75a.75.75 0 011.5 0V4h.25A2.75 2.75 0 0118 6.75v8.5A2.75 2.75 0 0115.25 18H4.75A2.75 2.75 0 012 15.25v-8.5A2.75 2.75 0 014.75 4H5V2.75A.75.75 0 015.75 2zm-1 5.5c-.69 0-1.25.56-1.25 1.25v6.5c0 .69.56 1.25 1.25 1.25h10.5c.69 0 1.25-.56 1.25-1.25v-6.5c0-.69-.56-1.25-1.25-1.25H4.75z" clip-rule="evenodd" />
                                    </svg>
                                    <span th:text="'Member since ' + ${userDto.since()}"></span>
                                </div>
                                <!--
                                <div class="mt-2 flex items-center text-sm text-gray-900">
                                    <svg class="mr-1.5 h-5 w-5 flex-shrink-0 text-gray-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                                        <path d="M1.5 8.67v8.58a3 3 0 003 3h15a3 3 0 003-3V8.67l-8.928 5.493a3 3 0 01-3.144 0L1.5 8.67z" />
                                        <path d="M22.5 6.908V6.75a3 3 0 00-3-3h-15a3 3 0 00-3 3v.158l9.714 5.978a1.5 1.5 0 001.572 0L22.5 6.908z" />
                                    </svg>
                                    <span th:text="${userDto.email()}"></span>
                                </div>
                                -->
                            </div>
                            <div class="flex flex-col mt-2 sm:flex-row sm:flex-wrap sm:space-x-6">
                                <div class="mt-2 flex items-center text-sm text-gray-500">
                                    <span><b th:text="${userDto.following()}"></b> Following</span>
                                </div>
                                <div class="mt-2 flex items-center text-sm text-gray-500">
                                    <span><b th:text="${userDto.followers()}"></b> Followers</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="pb-6 rounded-xl shadow mt-12 py-4 px-8">
                        <div class="border-b border-gray-200">
                            <nav class="-mb-px flex space-x-8" aria-label="Tabs">
                                <!-- Current: "border-indigo-500 text-indigo-600", Default: "border-transparent text-gray-500 hover:border-gray-200 hover:text-gray-700" -->
                                <a data-target="#tab-overview"
                                   class="tab border-indigo-500 text-indigo-600 flex whitespace-nowrap border-b-2 py-4 px-1 text-sm font-medium is-active">
                                    Overview
                                </a>

                                <a data-target="#tab-followers"
                                   class="tab border-transparent text-gray-500 hover:border-gray-200 hover:text-gray-700 flex whitespace-nowrap border-b-2 py-4 px-1 text-sm font-medium">
                                    Followers
                                    <span class="bg-gray-100 text-gray-900 ml-3 hidden rounded-full py-0.5 px-2.5 text-xs font-medium md:inline-block">6</span>
                                </a>

                                <a data-target="#tab-following"
                                   class="tab border-transparent text-gray-500 hover:border-gray-200 hover:text-gray-700 flex whitespace-nowrap border-b-2 py-4 px-1 text-sm font-medium">
                                    Following
                                    <span class="bg-gray-100 text-gray-900 ml-3 hidden rounded-full py-0.5 px-2.5 text-xs font-medium md:inline-block">4</span>
                                </a>
                            </nav>
                        </div>

                        <div class="tab-content">
                            <div class="tab-panel flex bg-gray-100 is-active" id="tab-overview">
                                <h1>Overview</h1>
                            </div>

                            <div class="tab-panel flex bg-gray-100" id="tab-followers">
                                <h1>Followers</h1>
                            </div>

                            <div class="tab-panel flex bg-gray-100" id="tab-following">
                                <h1>Following</h1>
                            </div>
                        </div>
                    </div>

                    <script>
                        const tabs = document.querySelectorAll('.tab');
                        const tabContent = document.querySelectorAll('.tab-panel');

                        tabs.forEach((tab) => {
                            tab.addEventListener('click', () => {
                                const target = document.querySelector(tab.dataset.target);

                                tabContent.forEach((tc) => {
                                    tc.classList.remove('hidden');
                                });
                                tabs.forEach((t) => {
                                    t.classList.remove('hidden');
                                });
                                tab.classList.add('hidden');
                                target.classList.add('hidden');
                            });
                        });
                    </script>
                </div>
            </main>
        </div>
    </body>
</html>